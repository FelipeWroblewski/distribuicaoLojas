<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <title>Distribuição de Produtos</title>
</head>
<style>
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    body {
        font-family: Arial, sans-serif;
        background-color: #f3f0f0;
    }
    
    .header-container {
        display: flex;
        align-items: center;
        gap: 15px;
        background: linear-gradient(to right, #b7a696, #846c5b);
        color: #eeeeee;
        height: 10vh;
    }

    .header-container i {
        font-size: 32px;
        color: #eeeeee;
        background-color: #ad9c8b;
        padding: 0.5rem;
        border-radius: 5px;
        margin-left: 2rem;
    }

    .text-content {
        display: flex;
        flex-direction: column;
    }

    .text-content h1 {
        font-size: 1.5rem;
        color: #eeeeee;
    }

    .text-content p {
        color: #d5cfc8;
    }

    .infos {
        display: flex;
        justify-content: space-around;
        margin: 2rem 0;
    }    

    .infos {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap; /* permite quebra em telas menores */
    gap: 2vh;
    margin: 2rem 0;
}

.infosBox {
    position: relative; /* necessário para posicionar o ícone */
    flex: 1 1 22vw;
    max-width: 24.5vw;
    height: 17vh;
    background-color: #ffffff;
    border-radius: 0.6rem;
    border: 1px solid #B7A696;
    box-sizing: border-box;
    padding: 1rem;
}

.infosTitle {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}


.infosBox h3 {
    font-size: 1vw;
    color: #b7a696;
    margin-left: 4rem;
    margin-top: 1.5rem;
}


.iconInfos {
    position: absolute;
    top: 2rem;
    right: 3rem;
    width: 1.5vw;
    height: auto;
    font-size: clamp(1rem, 1.2vw, 1.5rem);
    color: #B7A696;
}


.result {
    margin-left: 4rem;
    margin-top: 0.8vh;
    font-size: clamp(1rem, 1.2vw, 1.4rem);
    color: #1d1d1d;
}

.infosDescricao {
    color: #B7A696;
    font-size: clamp(0.8rem, 0.9rem, 1rem);
    margin-top: 0.5vh;
    margin-left: 4rem;
}


    /* Estilo para tabela */
    .csv-table {
        border: none;
        width: 91vw;
        margin: 2rem auto;
        /* background-color: #fff; */
        border-radius: 10px;
        overflow: hidden;
    }
    .csv-table th, .csv-table td {
        border: none;
        padding: 8px 12px;
        text-align: center;
    }
    .csv-table th {
        background-color: #d5cfc8;
        color: #846c5b;
    }
    .csv-table tr {
        background-color: #eeeeee;
    }

    /* Formulário centralizado */
    .form-upload {
        text-align: center;
        margin: 2rem 0;
    }
    .form-upload input, .form-upload button {
        padding: 10px 15px;
        font-size: 16px;
    }

    .upload-btn-wrapper {
    position: relative;
    overflow: hidden;
    display: inline-block;
    margin: 0 auto;

}

.upload-btn-wrapper2 {
    position: relative;
    overflow: hidden;
    display: inline-block;
    margin: 0;
    text-align: end;

}

        .upload-btn-wrapper .btn {
            border: none;
            color: #846c5b;
            background-color: #d3cac5;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
        }

        
        .upload-btn-wrapper input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        .upload-btn-wrapper2 .btn2 {
            border: none;
            color: #846c5b;
            background-color: #d3cac5;
            padding: 10px 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            justify-content: start;
        }

        
        .upload-btn-wrapper2 input[type="file"] {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }


        .upload-btn-wrapper:hover {
            cursor: pointer;
        }

        .upload-btn-wrapper2:hover {
            cursor: pointer;
        }

        .infoEnvioCSV {
            text-align: center;
            width: 100%;
            display: flex;
            justify-content: center;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 3rem;
        }

        .infoEnvioCSV p {
            max-width: 40rem;
            margin: 0 auto;
            line-height: 1.5;
            color: #846c5b;
            font-size: 1rem;
        }

        .upload-container {
            margin: 2rem auto;
            width: 40rem;
            background: #fff;
            border: 2px dashed #d3c4b8;
            border-radius: 12px;
            padding: 2rem;
            display: flex;
            justify-content: center;
            flex-direction: column;
            gap: 1rem;
        }

        

        #preview {
            margin-top: 2rem;
            border-radius: 10px;
        }

        .csvExemplo {
            width: 40rem;
            height: 8rem;
            background-color: rgb(238, 236, 236);
            margin: 0 auto;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            border: 2px solid #d5cfc8;
            text-align: center;
            gap: 1rem;
        }

        .csvExemplo p {
            color: #846c5b;
            margin-top: 1rem;
        }

         .btn {
            padding: 10px 20px;
            background: #ad9482;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            width: 20rem;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 2rem;
            justify-content: center;
            cursor: pointer;
        }

        .btn:hover {
            cursor: pointer;
            background-color: red;
        }
        .uploadIcon {
            width: 3rem;
            margin: 0 auto;
        }

        .upload-container h2{
            font-weight: 100;
            font-size: 1.5rem;
            text-align: center;
        }

        .upload-container p{
            color: #846c5b;
            text-align: center;
            margin-bottom: 1rem;
        }

        .uploadIcon2 {
            width: 1.5rem;
        }

        .carregaNovoArquivo {
            display: flex;
            flex-direction: row;
            width: 91vw;
            margin: 0 auto;
        }

        .escritasNovoArquivo {
            display: flex;
            flex-direction: column;
            margin-left: rem;
        }

        .escritasNovoArquivo p {
            color: #846c5b;
            margin-top: .5rem;
            margin-bottom: 2rem;
        }

        .distribuicao-produtos-wrapper {
            width: 91vw;
            height: 13vh;
            border-radius: 10px;
            background-color: #eeeeee;
            margin: 0 auto;
            border: 1px solid #d5d3d3;
            display: flex;
            justify-content: space-between;
            flex-direction: row;
            align-items: center;
            gap: 2rem;
        }
        .left-div {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-left: 3rem;
        }
        .left-div h1 {
            margin: 0;
            font-weight: 200;
            font-size: 1.5vw;
        }
        .left-div span {
            font-size: 1.1rem;
            background-color: #d3cac5;
            border-radius: 10px;
            padding: .3rem;
        }

        .search-input {
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 16rem;
            font-size: 1rem;
            background-color: #eeeeee;
            padding-left: 2.2rem;
            color: #846c5b;
        }

        .input-wrapper {
        position: relative;
        display: inline-block;
        margin-left: auto;
        }

        .search-input::placeholder {
            padding-left: .2rem;
            color: #b7a696;
        }

        .search-input:focus {
            outline: none;
        }

        .search-icon {
            position: absolute;
            right: 14rem; /* distância da borda direita do input */
            top: 50%;
            transform: translateY(-50%);
            color: #b7a696;
            font-size: 1.2rem;
            pointer-events: none; /* não interfere no clique do input */
            font-size: 1rem;
        }

        .btn-upload {
            border: 1px solid #ccc;
            padding: .7rem 2.3rem;
            background-color: #eeeeee;
            border-radius: 10px;
            font-weight: 600;
            text-align: center;         
            cursor: pointer;
            display: flex;
            gap: 1rem;
            padding-left: 2.8rem !important;
            margin-right: 5rem;
        }

        .uploadIcon3 {
            position: absolute;
            left: 18px !important;
            top: 50%;
            transform: translateY(-50%);
            color: #b7a696;
            font-size: 1.2rem;
            pointer-events: none;
            margin-right: .5rem;
        }

        .relatorios-wrapper {
            margin-top: 2rem;
            margin-left: 5rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btnTransferencia, .btnCronograma {
            padding: 10px 20px;
            background: #ad9482;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            width: 20rem;
            display: flex;
            align-items: center;
            gap: 2rem;
            justify-content: center;
        }
        .wrapperGeral {
            display: flex;
            gap: 2rem;
            margin-left: auto;
        }

        .modal {
  
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0,0,0,0.6);
}
.modal-content {
  background-color: #eee;
  margin: 5rem auto;
  padding: 20px;
  border-radius: 12px;
  width: 80%;
  max-height: 80%;
  overflow-y: auto;
  box-shadow: 0px 5px 15px rgba(0,0,0,0.3);

}
.close {
  float: right;
  font-size: 24px;
  font-weight: bold;
  cursor: pointer;
}

.modal-content h3 {
    color: #846c5b;
    text-align: center;
    padding-top: 2rem;
    padding-bottom: 2rem;
    font-size: 1.5rem;
}

.trModais {
    background-color: #d5cfc8;
    color: #846c5b;
    height: 2rem;
    border: 1px solid #ccc;
    border-radius: 10px;
}

.tabelaModais {
    border-radius: 10px;
    margin: 0 auto;
    text-align: center;
}

.tdModais {
    background-color: #dcdad9;
    border: 1px solid #dcdad9;
    font-size: 1.2rem;
    font-weight: 100;
}

/* #modalCronograma {
    display: flex;
    justify-content: center; 
}*/

#modalBodyCronograma table {
    width: 100%;
    text-align: center;
    margin: 0 auto;
}

</style>
<body>
    <header class="header-container">
        <i class="fa-solid fa-chart-line"></i>
        <div class="text-content">
            <h1>Distribuição de Produtos</h1>
            <p>Ferramenta interna para análise de distribuição</p>
        </div>
    </header>
    
    <main>

        <section>
            <div class="infos">
                <div class="infosBox">
                    <div class="infosTitle">
                        <h3>Total de Produtos</h3>
                        <img src="{{ url_for('static', filename='imgs/box.png') }}" alt="boxIcon" class="iconInfos">
                    </div>
                    <h1 class="result">1984</h1>
                    <p class="infosDescricao">Produtos carregados</p>
                </div>

                <div class="infosBox">
                    <div class="infosTitle">
                        <h3>Lojas Ativas</h3>
                        <img src="{{ url_for('static', filename='imgs/file.png') }}" alt="fileIcon" class="iconInfos">
                    </div>
                    <h1 class="result">1</h1>
                    <p class="infosDescricao">Lojas com distribuição</p>
                </div>

                <div class="infosBox">
                    <div class="infosTitle">
                        <h3>Análises</h3>
                        <img src="{{ url_for('static', filename='imgs/dashboard.png') }}" alt="fileIcon" class="iconInfos">
                    </div>
                    <h1 class="result">1</h1>
                    <p class="infosDescricao">Relatórios processados</p>
                </div>
            </div>
        </section>

        <section>
            <div class="infoEnvioCSV" id="uploadArea2">
                <h2>Carregue seu arquivo de distribuição</h2>
                <p>Faça upload de um arquivo CSV ou Excel com os dados de distribuição de produtos para lojas e visualize as informações em 
                    uma tabela organizada e interativa.
                </p>
            </div>

            <div id="uploadArea" class="upload-container">
                <img src="{{ url_for('static', filename='imgs/upload.png') }}" alt="fileIcon" class="uploadIcon">
                <h2>Carregar arquivo de distribuição</h2>
                <p>Arraste e solte um arquivo CSV ou Excel aqui, ou clique para selecionar</p>
                <div class="upload-btn-wrapper">
                    <button class="btn">
                        <img src="{{ url_for('static', filename='imgs/upload2.png') }}" alt="fileIcon" class="uploadIcon2">
                        Selecionar Arquivo
                    </button>
                    <input type="file" id="fileInput" accept=".csv, .xlsx" />
                </div>
                <br><br>
            </div>

            <!-- Tabela do CSV -->
            <div id="preview">
                <div id="tabelaContainer">
                    {{ tabelaDistribuicao|safe }}
                </div>
            </div>

        </section>

        <div id="modalCronograma" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="modalBodyCronograma"></div>
            </div>
        </div>

        <div id="modalTransferencia" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <div id="modalBodyTransferencia"></div>
            </div>
        </div>


    </main>
</body>
</html>

<script>
    const fileInput = document.getElementById("fileInput");

fileInput.addEventListener("change", () => {
    if (fileInput.files.length > 0) {
        enviarArquivo(fileInput.files[0]);
    }
});

document.addEventListener("dragover", e => e.preventDefault());
document.addEventListener("drop", e => {
    e.preventDefault();
    if (e.dataTransfer.files.length > 0) {
        enviarArquivo(e.dataTransfer.files[0]);
    }
});

const initialFileInput = document.getElementById('fileInput'); 
const uploadArea = document.getElementById('uploadArea');
const preview = document.getElementById('preview');

if (initialFileInput) {
  initialFileInput.addEventListener('change', () => {
    if (initialFileInput.files.length > 0) {
      enviarArquivo(initialFileInput.files[0]);
    }
  });
}

document.addEventListener('dragover', e => e.preventDefault());
document.addEventListener('drop', e => {
  e.preventDefault();
  if (e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files.length > 0) {
    enviarArquivo(e.dataTransfer.files[0]);
  }
});

async function enviarArquivo(file) {
  try {
    console.log("Enviando arquivo:", file.name);
    const formData = new FormData();
    formData.append("file", file);

    preview.innerHTML = '<p>Processando arquivo…</p>';
    preview.style.display = "block";

    const res = await fetch("/distribuicao/upload", {
      method: "POST",
      body: formData
    });

    if (!res.ok) {
      const text = await res.text();
      console.error("Erro no servidor:", res.status, text);
      preview.innerHTML = `<p>Erro ao processar arquivo: ${res.statusText}</p>`;
      return;
    }

    const html = await res.text();

    // Limpa preview
    preview.innerHTML = '';

    const container = document.createElement('div');
    container.className = 'carregaNovoArquivo';

    // Texto informativo
    const texts = document.createElement('div');
    texts.className = 'escritasNovoArquivo';
    texts.innerHTML = `<h1>Dados Carregados</h1><p>Arquivo processado com sucesso</p>`;
    container.appendChild(texts);

    // Wrapper do botão Alterar de arquivo (tem input)
    const wrapperAlterar = document.createElement('div');
    wrapperAlterar.className = 'upload-btn-wrapper2';

    const btnAlterar = document.createElement('button');
    btnAlterar.className = 'btn2';
    btnAlterar.type = 'button';
    btnAlterar.innerHTML = 'Alterar de arquivo';

    const newInput = document.createElement('input');
    newInput.type = 'file';
    newInput.accept = '.csv, .xlsx';

    wrapperAlterar.appendChild(btnAlterar);
    wrapperAlterar.appendChild(newInput);

    // Botão Processar arquivo (SEM input e SEM lógica JS)
    const btnProcessar = document.createElement('button');
    btnProcessar.className = 'btn2';
    btnProcessar.type = 'button';
    btnProcessar.innerHTML = 'Processar arquivo';

    // ====================== EVENTO ======================
btnProcessar.addEventListener('click', async () => {
    console.log("Botão Processar clicado");
    // Aqui você chama /processar e mostra os relatórios
    try {
        const processRes = await fetch("http://127.0.0.1:5000/processar", { method: "POST" });

        if (!processRes.ok) return alert("Erro ao processar: " + await processRes.text());

        const relatorios = await processRes.json();

        let relWrapper = document.querySelector('.relatorios-wrapper');
        if (!relWrapper) {
            // só cria se ainda não existir
            relWrapper = document.createElement('div');
            relWrapper.className = 'relatorios-wrapper';
            preview.appendChild(relWrapper);
        }

        // 🔑 limpa os botões antigos antes de recriar
        relWrapper.innerHTML = "";

        //Modal para relatório Cronograma
        function abrirModalCronograma(conteudo) {
            const modal = document.getElementById("modalCronograma");
            const body = document.getElementById("modalBodyCronograma");

            body.innerHTML = conteudo;  // joga a tabela no modal
            modal.style.display = "block";
        }

        // coloque isso uma única vez no seu JS (p.ex. no final do arquivo)
(function setupModalClose() {
  // Clique (captura) — pega X ou clique no overlay (fundo)
  document.addEventListener('click', function (e) {
    // 1) Se clicou em um botão/elemento com classe .close dentro de um .modal -> fecha esse modal
    const closeBtn = e.target.closest('.modal .close, [data-modal-close]');
    if (closeBtn) {
      const modal = closeBtn.closest('.modal');
      if (modal) modal.style.display = 'none';
      return;
    }

    // 2) Se clicou dentro de um .modal mas FORA do .modal-content -> fecha
    const clickedModal = e.target.closest('.modal');
    if (clickedModal && !e.target.closest('.modal-content')) {
      clickedModal.style.display = 'none';
      return;
    }
  }, true); // <-- capture phase: mais resistente a event.stopPropagation()

  // ESC fecha todos os modais abertos
  document.addEventListener('keydown', function (e) {
    if (e.key === 'Escape') {
      document.querySelectorAll('.modal').forEach(m => {
        m.style.display = 'none';
      });
    }
  });
})();

        const btnCronograma = document.createElement('button');
        btnCronograma.textContent = "Mostrar Relatório Cronograma";
        btnCronograma.className = 'btnCronograma';
        btnCronograma.addEventListener("click", () => {
            const modal = document.getElementById("modalCronograma");
            const modalBody = document.getElementById("modalBodyCronograma");
            
            modalBody.innerHTML = ""; // limpar antes
            mostrarTabela(relatorios.df_cronograma, modalBody, "<h3>Cronograma</h3>");
            modal.style.display = "block";
        });


        //Modal para relatório transferência
        function abrirModalTransferencia(conteudo) {
            const modal = document.getElementById("modalTransferencia");
            const body = document.getElementById("modalBodyTransferencia");

            body.innerHTML = conteudo;  // joga a tabela no modal
            modal.style.display = "block";
        }

        const btnTransferencia = document.createElement('button');
        btnTransferencia.textContent = "Mostrar Relatório Transferência";
        btnTransferencia.className = 'btnTransferencia';
        btnTransferencia.addEventListener("click", () => {
            const modal = document.getElementById("modalTransferencia");
            const modalBody = document.getElementById("modalBodyTransferencia");

            modalBody.innerHTML = ""; // limpar antes
            mostrarTabela(relatorios.dados_transferencia, modalBody, "<h3>Transferência</h3>");
            modal.style.display = "block";
        });

        relWrapper.appendChild(btnCronograma);
        relWrapper.appendChild(btnTransferencia);

        if (!document.querySelector('.relatorios-wrapper')) {
            preview.appendChild(relWrapper);
        }

        //preview.appendChild(relWrapper);

        const tabela = document.querySelector('.carregaNovoArquivo + table, .carregaNovoArquivo ~ table');
        if (tabela) {
            tabela.parentNode.insertBefore(relWrapper, tabela);
        } else {
            // fallback: se não achar tabela, joga no fim mesmo
            preview.appendChild(relWrapper);
        }

        exportBtn.addEventListener('click', () => {
            window.location.href = "/exportar_csv";
        });

    } catch (err) {
        console.error(err);
        alert("Erro ao processar os relatórios.");
    }
});

// ====================== FIM EVENTO =====================

    const wrapperProcessar = document.createElement('div');
    wrapperProcessar.className = 'upload-btn-wrapper2';
    wrapperProcessar.appendChild(btnProcessar);

    // Coloca os dois lado a lado
    const wrapperGeral = document.createElement('div');
    wrapperGeral.className = 'wrapperGeral';
    // wrapperGeral.style.display = 'flex';
    // wrapperGeral.style.gap = '2rem';
    wrapperGeral.appendChild(wrapperAlterar);
    wrapperGeral.appendChild(wrapperProcessar);

    container.appendChild(wrapperGeral);
    preview.appendChild(container);

    // Insere tabela do backend
preview.insertAdjacentHTML('beforeend', html);

// Seleciona a tabela que acabou de ser inserida
const tabela = preview.querySelector('table'); // assumindo que é a primeira tabela inserida

// ==================== NOVA SEÇÃO ====================
const produtosWrapper = document.createElement('div');
produtosWrapper.className = 'distribuicao-produtos-wrapper';

// Esquerda: título e quantidade
const leftDiv = document.createElement('div');
leftDiv.innerHTML = `<h1>Distribuição de Produtos</h1> <span>1984 itens</span>`;
leftDiv.className = 'left-div';

// Centro: input de busca
// Container com posição relativa
const inputWrapper = document.createElement('div');
inputWrapper.className = 'input-wrapper';

// Input de busca
const searchInput = document.createElement('input');
searchInput.type = 'text';
searchInput.placeholder = 'Buscar...';
searchInput.className = 'search-input';

// Ícone de busca
const searchIcon = document.createElement('i');
searchIcon.className = 'fa-solid fa-magnifying-glass search-icon';

// Adiciona ao wrapper
inputWrapper.appendChild(searchInput);
inputWrapper.appendChild(searchIcon);

// Adiciona ao DOM
document.body.appendChild(inputWrapper); // ou outro container


//ícone de upload
const uploadIcon3 = document.createElement('i');
uploadIcon3.className = 'fa-solid fa-arrow-up-from-bracket';

// Direita: botão exportar CSV
const exportBtn = document.createElement('button');
exportBtn.innerText = 'Exportar CSV';
exportBtn.className = 'btn2';
exportBtn.type = 'button';
exportBtn.className = 'btn-upload';


// Junta tudo
produtosWrapper.appendChild(leftDiv);
produtosWrapper.appendChild(inputWrapper);
exportBtn.prepend(uploadIcon3); 
produtosWrapper.appendChild(exportBtn);


// **Insere a seção logo antes da tabela**
if (tabela) {
  tabela.insertAdjacentElement('beforebegin', produtosWrapper);
} else {
  // fallback caso a tabela não exista
  preview.appendChild(produtosWrapper);
}

    // Esconde áreas antigas de upload
    if (uploadArea) uploadArea.style.display = 'none';
    const uploadArea2 = document.getElementById('uploadArea2');
    if (uploadArea2) uploadArea2.style.display = 'none';

    // Eventos apenas do botão Alterar de arquivo
    btnAlterar.addEventListener('click', () => newInput.click());
    newInput.addEventListener('change', () => {
      if (newInput.files.length > 0) {
        enviarArquivo(newInput.files[0]);
      }
    });

    console.log("Tabela exibida com Alterar de arquivo + Processar arquivo (visual).");
  } catch (err) {
    console.error("Erro no upload:", err);
    preview.innerHTML = `<p>Erro ao enviar arquivo: ${err.message}</p>`;
  }
}



function mostrarTabela(data, container, titulo="") {
    const wrapper = document.createElement('div');
    if (titulo) wrapper.innerHTML = titulo;

    if (!data || data.length === 0) {
        wrapper.innerHTML += "<p>Nenhum dado para exibir.</p>";
        container.appendChild(wrapper);
        return;
    }

    const tabela = document.createElement('table');
    const thead = document.createElement('thead');
    const tbody = document.createElement('tbody');

    // Cabeçalho
    const headerRow = document.createElement('tr');
    Object.keys(data[0]).forEach(key => {
        const th = document.createElement('th');
        th.className = "trModais";
        th.textContent = key;
        headerRow.appendChild(th);
    });
    thead.appendChild(headerRow);

    // Linhas
    data.forEach(row => {
        const tr = document.createElement('tr');
        Object.values(row).forEach(value => {
            const td = document.createElement('td');
            td.className = "tdModais"
            td.textContent = value;
            tr.appendChild(td);
        });
        tbody.appendChild(tr);
    });

    tabela.appendChild(thead);
    tabela.appendChild(tbody);
    wrapper.appendChild(tabela);
    container.appendChild(wrapper);
}


</script>